<div class="min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4">
  <div class="max-w-6xl mx-auto">
    
    <!-- Header -->
    <header class="text-center mb-8">
        <!-- EPL Logo and Title -->
     <div class="flex items-center justify-center mb-4">
        <img 
          src="/premier-league-logo.png" 
          alt="Premier League Logo" 
          class="w-16 h-16 mr-4 object-contain"
          style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));"
        >
        <h1 class="text-4xl font-bold text-gray-800">
          FPL Optimizer
        </h1>
      </div>
      <p class="text-gray-600 mb-4">
        Find the optimal FPL team within your budget using mathematical optimization
      </p>
      
      <!-- Environment Indicator (Development only) -->
      @if (!config.isProduction) {
        <div class="inline-block bg-yellow-100 border border-yellow-400 text-yellow-800 px-3 py-1 rounded-full text-sm">
          üîß {{ config.isProduction ? 'Production' : 'Development' }} Mode
          @if (config.shouldUseMockData) {
            <span class="ml-2">üì± Mock Data</span>
          }
        </div>
      }
    </header>

    <!-- System Status (if not healthy) -->
    @if (systemStatus && systemStatus !== 'healthy') {
      <div class="bg-orange-100 border border-orange-400 text-orange-800 px-4 py-3 rounded-lg mb-6">
        <div class="flex items-center">
          <span class="mr-2">‚ö†Ô∏è</span>
          <span>System Status: {{ systemStatus }}</span>
          @if (systemStatus === 'service_init_failed') {
            <span class="ml-2 text-sm">
              - Please refresh the page
            </span>
          }
        </div>
      </div>
    }

    <!-- Service Status Warning -->
    @if (!servicesReady && !error) {
      <div class="bg-yellow-50 border border-yellow-400 text-yellow-800 px-4 py-3 rounded-lg mb-6">
        <div class="flex items-center">
          <span class="mr-2">üîÑ</span>
          <span>Loading application services...</span>
        </div>
      </div>
    }

    <!-- Error Display - MOVED TO TOP AND IMPROVED -->
    @if (error) {
      <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-8 animate-pulse">
        <div class="flex items-start">
          <div class="flex-shrink-0">
            <span class="text-red-400 text-2xl">‚ùå</span>
          </div>
          <div class="ml-3 flex-1">
            <h3 class="text-lg font-semibold text-red-800 mb-2">Optimization Failed</h3>
            <p class="text-red-700 mb-3">{{ error }}</p>
            <div class="flex space-x-3">
              <button 
                (click)="error = null"
                class="px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors duration-200"
              >
                Dismiss
              </button>
              <button 
                (click)="retryOptimization()"
                class="px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200"
              >
                Try Again
              </button>
            </div>
          </div>
        </div>
      </div>
    }

    

    <!-- Navigation -->
    <nav class="bg-white rounded-lg shadow-lg mb-8 p-4">
      <div class="flex space-x-4">
        <a
          routerLink="/team"
          routerLinkActive="active-nav-link"
          class="nav-link px-4 py-2 rounded-lg font-medium transition-colors"
        >
          My Team
        </a>
        <a
          routerLink="/transfers"
          routerLinkActive="active-nav-link"
          class="nav-link px-4 py-2 rounded-lg font-medium transition-colors"
        >
          Transfer Planner
        </a>
      </div>
    </nav>

    <!-- Router Outlet for Components -->
    <section class="bg-white rounded-lg shadow-lg p-8 mb-8">
      <router-outlet></router-outlet>
    </section>

    <!-- Footer -->
    <footer class="text-center text-gray-500 text-sm mt-8">
      <p>FPL Optimizer v{{ appVersion }} | Built for Fantasy Premier League enthusiasts</p>
      @if (!config.isProduction) {
        <p class="mt-2 text-xs">üîß Development Build</p>
      }
    </footer>

</div>  
